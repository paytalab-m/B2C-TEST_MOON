<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="theme-color" content="#FFFFFF">
    
    <meta name="format-detection" content="telephone=no">

    <title>íŒ¨ìŠ¤ì˜¤ë” ìƒìƒ í”„ë¡œì íŠ¸</title>
    <link rel="stylesheet" as="style" crossorigin href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.8/dist/web/static/pretendard.css" />
    
    <style>
        /* --- [1. ë³€ìˆ˜ ë° ì´ˆê¸°í™”] --- */
        :root {
            --app-bg: #F5F6F8;
            --card-bg: #FFFFFF;
            --primary: #FF7949;
            --navy: #132D48;
            --text-main: #333333;
            --text-sub: #8B95A1;
            --text-desc: #4E5968;
            --border-color: #E5E8EB;
            --safe-top: env(safe-area-inset-top);
            --safe-bottom: env(safe-area-inset-bottom);
        }

        * {
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
            -webkit-touch-callout: none;
            user-select: none;
        }

        body {
            margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Pretendard Variable", Pretendard, sans-serif;
            background-color: var(--app-bg);
            color: var(--text-main);
            -ms-overflow-style: none; scrollbar-width: none;
            -webkit-overflow-scrolling: touch;
            overflow-x: hidden;
        }
        body::-webkit-scrollbar { display: none; }
        
        .app-view {
            max-width: 480px; margin: 0 auto; min-height: 100vh; position: relative;
            padding-bottom: calc(90px + var(--safe-bottom));
        }

        /* --- [Hero Section] --- */
        .hero-section { padding: calc(40px + var(--safe-top)) 24px 40px; background-color: transparent; }
        .hero-top-center { display: flex; flex-direction: column; align-items: center; text-align: center; margin-bottom: 24px; }

        .project-label {
            font-size: 13px; font-weight: 700; color: var(--primary); 
            background: rgba(255, 121, 73, 0.08); padding: 8px 12px; border-radius: 999px; 
            margin-bottom: 12px; display: inline-flex; align-items: center; letter-spacing: -0.02em; 
        }

        .campaign-desc-box {
            background-color: #FFFFFF; border-radius: 12px; padding: 16px 20px; width: 100%;
            font-size: 13px; line-height: 1.55; color: #6B7684; letter-spacing: -0.02em; word-break: keep-all;
        }

        .hero-divider { width: 100%; height: 1px; background-color: #FFFFFF; border: none; margin-bottom: 32px; }

        .hero-title-group { margin-bottom: 32px; text-align: left; }
        .recipient-text {
            font-size: 18px; font-weight: 600; color: #6B7684; margin-bottom: 10px; 
            letter-spacing: -0.02em; line-height: 1.5; display: block;
        }
        .main-message {
            font-size: 24px; font-weight: 800; line-height: 1.3; letter-spacing: -0.03em; 
            color: var(--text-main); margin: 0; word-break: keep-all;
        }

        .message-card {
            background-color: #FFFFFF; border: 1px solid rgba(0,0,0,0.06); border-radius: 20px;
            box-shadow: 0 6px 18px rgba(0,0,0,0.04); padding: 24px;
        }
        .message-body { font-size: 16px; line-height: 1.65; color: #4E5968; letter-spacing: -0.03em; word-break: keep-all; }
        .message-body p { margin: 0 0 16px 0; }
        .message-body p:last-child { margin-bottom: 0; }
        
        .txt-bold { font-weight: 700; color: var(--text-main); }
        .txt-highlight { font-weight: 800; color: var(--primary); }

        /* --- [Common Sections] --- */
        .section-card {
            background: #FFFFFF; border-radius: 20px; box-shadow: 0 6px 18px rgba(0,0,0,0.04);
            border: 1px solid rgba(0,0,0,0.06); overflow: hidden;
        }

        /* Coupon */
        .coupon-section { padding: 0 20px 24px; }
        .coupon-card-wrap { height: 132px; position: relative; display: flex; }
        .coupon-left { flex: 1; padding: 20px; display: flex; flex-direction: column; justify-content: center; position: relative; }
        .coupon-divider { position: absolute; right: 0; top: 14px; bottom: 14px; width: 1px; border-right: 1px dashed rgba(0,0,0,0.12); }
        .punch-hole {
            position: absolute; right: -12px; width: 24px; height: 24px;
            background-color: var(--app-bg); border-radius: 50%; z-index: 10;
            box-shadow: inset 1px 1px 2px rgba(0,0,0,0.05);
        }
        .punch-top { top: -12px; } .punch-bottom { bottom: -12px; }
        .shop-name { font-size: 12px; color: #8B95A1; font-weight: 600; margin-bottom: 6px; }
        .menu-title { font-size: 17px; font-weight: 800; margin-bottom: 8px; letter-spacing: -0.03em; color: var(--text-main); }
        .price-wrap { display: flex; align-items: baseline; gap: 8px; }
        .price-origin { text-decoration: line-through; color: #C7C7CC; font-size: 12px; font-weight: 500; }
        .price-final { color: var(--primary); font-size: 22px; font-weight: 900; font-family: -apple-system, BlinkMacSystemFont, sans-serif; }
        .coupon-right { width: 100px; background: #FAFAFB; display: flex; align-items: center; justify-content: center; }
        .coffee-visual { font-size: 48px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1)); }

        /* Location */
        .location-section { padding: 0 20px; margin-bottom: 48px; }
        .section-header { font-size: 16px; font-weight: 700; margin-bottom: 12px; padding-left: 2px; letter-spacing: -0.03em; color: var(--text-main); }
        .loc-details { padding: 20px 24px; }
        .loc-name { font-size: 17px; font-weight: 700; margin-bottom: 4px; }
        .loc-addr { font-size: 14px; color: var(--text-sub); margin-bottom: 12px; }
        .loc-badge {
            display: inline-block; background-color: #F2F4F6; color: #4E5968;
            font-size: 12px; font-weight: 600; padding: 6px 10px; border-radius: 6px;
        }
        
        /* ì§€ë„ ì˜ì—­ */
        .map-area { 
            width: 100%; 
            height: auto;       
            min-height: 160px; 
            background-color: #F0F4F8; 
            position: relative; 
            cursor: pointer; 
        }
        .map-pattern {
            width: 100%; height: 100%; position: absolute; top:0; left:0;
            background-image: linear-gradient(rgba(19, 45, 72, 0.1) 1px, transparent 1px), linear-gradient(90deg, rgba(19, 45, 72, 0.1) 1px, transparent 1px);
            background-size: 24px 24px; opacity: 0.45;
        }

        /* Footer */
        .footer-section { padding: 32px 24px 60px; background-color: transparent; font-size: 11px; color: #8B95A1; line-height: 1.5; word-break: keep-all; }
        .footer-section .logo { height: 20px; width: auto; margin-bottom: 16px; opacity: 0.6; display: block; }
        .footer-section .text { display: block; margin-bottom: 4px; color: #8B95A1; font-size: 11px; line-height: 1.5; }
        .footer-section .terms-nav-wrapper { display: flex; flex-wrap: wrap; gap: 12px 16px; margin: 16px 0 20px; }
        .footer-section .terms { text-decoration: none; color: #6B7684; font-weight: 500; font-size: 11px; cursor: pointer; }

        /* Sticky CTA */
        .sticky-bar {
            position: fixed; bottom: 0; left: 0; width: 100%; z-index: 100;
            background: rgba(245, 246, 248, 0.86); backdrop-filter: blur(20px); -webkit-backdrop-filter: blur(20px);
            border-top: 1px solid rgba(0,0,0,0.05); padding: 12px 20px calc(12px + var(--safe-bottom));
            display: flex; justify-content: center;
        }
        .btn-cta {
            width: 100%; max-width: 440px; height: 56px;
            background-color: var(--primary); color: #fff;
            font-size: 17px; font-weight: 700; border: none; border-radius: 16px;
            box-shadow: 0 10px 22px rgba(255, 121, 73, 0.18); cursor: pointer; transition: all 0.2s ease;
        }
        .btn-cta:disabled { background-color: #E5E8EB; color: #B0B8C1; box-shadow: none; cursor: not-allowed; }
        .btn-cta:active:not(:disabled) { transform: scale(0.96); }

        /* Modal Styles */
        .modal-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background-color: #FFFFFF; z-index: 999;
            transform: translateY(100%); transition: transform 0.35s cubic-bezier(0.16, 1, 0.3, 1);
            display: flex; flex-direction: column; padding-top: var(--safe-top);
        }
        .modal-layer.active { transform: translateY(0); }
        .modal-content { flex: 1; padding: 28px 20px; max-width: 480px; width: 100%; margin: 0 auto; display: flex; flex-direction: column; overflow-y: auto; }
        .modal-header { margin-bottom: 32px; text-align: left; }
        .modal-icon { font-size: 36px; margin-bottom: 16px; display: block; }
        .modal-title { font-size: 26px; font-weight: 800; line-height: 1.35; color: var(--text-main); margin: 0 0 16px; letter-spacing: -0.03em; }
        .modal-desc { font-size: 16px; line-height: 1.6; color: var(--text-desc); margin: 0; word-break: keep-all; letter-spacing: -0.02em; }
        .modal-desc strong { color: var(--text-main); font-weight: 700; }
        .input-area { margin-bottom: 24px; }
        .input-label { display: block; font-size: 13px; font-weight: 700; color: #6B7684; margin-bottom: 10px; letter-spacing: -0.01em; }
        .input-field {
            width: 100%; height: 56px; padding: 0 16px; font-size: 20px; font-weight: 700; color: var(--text-main);
            border: 1px solid rgba(0,0,0,0.08); border-radius: 14px; background: #F7F8FA; outline: none; transition: all 0.2s;
            -webkit-appearance: none; -moz-appearance: none; appearance: none;
            letter-spacing: 0.5px;
        }
        .input-field:focus { border-color: var(--text-main); background: #FFF; box-shadow: 0 0 0 3px rgba(0,0,0,0.03); }
        .terms-wrap { display: flex; align-items: center; gap: 12px; cursor: pointer; padding: 12px 0; margin-bottom: 20px; }
        .check-icon {
            width: 24px; height: 24px; border-radius: 6px; border: 2px solid #C7C7CC; background: #FFF;
            position: relative; transition: all 0.2s; flex-shrink: 0;
        }
        .check-icon::after {
            content: ''; position: absolute; top: 45%; left: 50%; width: 6px; height: 10px; border: solid #FFF;
            border-width: 0 2px 2px 0; transform: translate(-50%, -60%) rotate(45deg); opacity: 0; transition: opacity 0.2s;
        }
        input[type="checkbox"]:checked + .check-icon { background-color: var(--primary); border-color: var(--primary); }
        input[type="checkbox"]:checked + .check-icon::after { opacity: 1; }
        .terms-text { font-size: 14px; font-weight: 700; color: var(--text-main); letter-spacing: -0.02em; }
        .privacy-link { color: var(--text-main); text-decoration: underline; cursor: pointer; }
        #agreeChk { display: none; }
        .notice-box { background-color: #F7F8FA; border: 1px solid rgba(0,0,0,0.06); border-radius: 12px; padding: 20px; margin-bottom: 40px; }
        .notice-title { font-size: 13px; font-weight: 800; color: #4E5968; margin: 0 0 12px; letter-spacing: -0.02em; }
        .notice-list { display: flex; flex-direction: column; gap: 10px; }
        .notice-item { display: flex; gap: 8px; align-items: flex-start; font-size: 12px; color: #666; line-height: 1.5; letter-spacing: -0.02em; word-break: keep-all; }
        .notice-dot { color: #BBB; flex-shrink: 0; font-weight: bold; margin-top: 1px; }
        .notice-item.highlight-notice { background-color: rgba(255, 121, 73, 0.06); padding: 12px; border-radius: 10px; margin: 0 -8px; }
        .notice-item.highlight-notice span { color: var(--primary); font-weight: 700; }
        .notice-item.highlight-notice .notice-dot { color: var(--primary); }
        
        .modal-footer { 
            padding: 12px 20px calc(12px + var(--safe-bottom)); 
            width: 100%; max-width: 480px; margin: 0 auto; 
            border-top: 1px solid rgba(0,0,0,0.05); background: #FFF; 
            flex-shrink: 0;
        }

        /* [NEW] ì´ë¯¸ì§€ í™•ëŒ€ ë¼ì´íŠ¸ë°•ìŠ¤ CSS */
        .img-modal-layer {
            display: none; position: fixed; z-index: 9999; 
            padding-top: 0; left: 0; top: 0; width: 100%; height: 100%; 
            background-color: rgba(0,0,0,0.9);
            align-items: center; justify-content: center;
        }
        .img-modal-content {
            margin: 0; 
            max-width: 100%; 
            max-height: 100%; 
            object-fit: contain; 
            touch-action: none; /* ì¤‘ìš”: ë°°ê²½ ìŠ¤í¬ë¡¤ ë°©ì§€ */
            transition: transform 0.1s linear;
        }
        .img-close-btn {
            position: absolute; top: 20px; right: 25px; color: #f1f1f1; 
            font-size: 40px; font-weight: bold; cursor: pointer; z-index: 10001;
        }
        .img-caption { 
            position: absolute; bottom: 20px; left: 0; right: 0;
            text-align: center; color: #ccc; font-size: 14px; pointer-events: none; 
        }
        
        /* [NEW] ì™„ë£Œ(Success) í˜ì´ì§€ CSS */
        .success-layer {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: #fff; z-index: 2000;
            display: none; 
            flex-direction: column; align-items: center; justify-content: center;
            text-align: center;
            animation: fadeIn 0.4s ease-out forwards;
        }
        .success-layer.active { display: flex; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
        
        .success-icon { font-size: 80px; margin-bottom: 24px; animation: bounce 2s infinite; }
        @keyframes bounce { 
            0%, 20%, 50%, 80%, 100% {transform: translateY(0);} 
            40% {transform: translateY(-20px);} 
            60% {transform: translateY(-10px);} 
        }
        .success-title { font-size: 26px; font-weight: 800; margin-bottom: 12px; color: var(--text-main); letter-spacing: -0.03em; }
        .success-desc { font-size: 18px; color: var(--text-desc); line-height: 1.6; letter-spacing: -0.02em; }
        .redirect-msg { margin-top: 24px; font-size: 14px; color: #8B95A1; animation: fadeIn 2s forwards; }
    </style>
</head>
<body>

    <div class="app-view">
        <section class="hero-section">
            <div class="hero-top-center">
                <span class="project-label">ì¹´í˜ ì£¼ë¬¸ 1ë“± ì•± íŒ¨ìŠ¤ì˜¤ë” X ì†Œìƒê³µì¸ ìƒìƒ í”„ë¡œì íŠ¸</span>
                <div class="campaign-desc-box">
                    ë§ˆì¼€íŒ… ë¹„ìš© ë¶€ë‹´ìœ¼ë¡œ í™ë³´ê°€ ì–´ë ¤ìš´ ì‚¬ì¥ë‹˜ë“¤ê»˜, <br>ë¹„ìš©ì„ ì§€ì›í•˜ì—¬ ê³ ê°ê³¼ ì—°ê²°í•˜ëŠ” í”„ë¡œì íŠ¸ ì…ë‹ˆë‹¤.
                </div>
            </div>

            <hr class="hero-divider">

            <div class="hero-title-group">
                <span class="recipient-text"><span id="val-company-1">ì‚¬ì—…ìëª…</span> ì„ì§ì› ì—¬ëŸ¬ë¶„ê»˜,</span>
                <h1 class="main-message">
                    íŒ¨ìŠ¤ì˜¤ë”ê°€ ì»¤í”¼ë¥¼ ì¤€ë¹„í–ˆìŠµë‹ˆë‹¤ â˜•ï¸
                </h1>
            </div>
            
            <div class="message-card">
                <div class="message-body">
                    <p>
                        <span class="txt-bold" id="val-store-1">ë§¤ì¥ëª…</span>ì—ì„œ<br>
                        ì‚¬ìš©í•˜ëŠ” ì»¤í”¼ ì¿ í° ë¹„ìš©ì€<br>
                        ì‚¬ì¥ë‹˜ ë¶€ë‹´ ì—†ì´, <span class="txt-highlight">íŒ¨ìŠ¤ì˜¤ë”ê°€ ì „ì•¡ ì§€ì›</span>í•©ë‹ˆë‹¤.
                    </p>
                    <p>
                        <span class="txt-bold"><span id="val-company-2">ì‚¬ì—…ìëª…</span> ì„ì§ì›</span><br>
                        ì—¬ëŸ¬ë¶„ì€ ë¶€ë‹´ ì—†ì´, ë§›ìˆê²Œ ì¦ê²¨ì£¼ì„¸ìš” ğŸ˜‰<br>
                    </p>
                </div>
            </div>
        </section>

        <section class="coupon-section">
            <div class="section-header">ì¿ í° ì •ë³´</div>
            <div class="section-card coupon-card-wrap">
                <div class="punch-hole punch-top"></div>
                <div class="punch-hole punch-bottom"></div>
                <div class="coupon-left">
                    <div class="coupon-divider"></div>
                    <div class="shop-name" id="val-store-2">ë§¤ì¥ëª…</div>
                    <div class="menu-title">ìƒìƒ ì•„ë©”ë¦¬ì¹´ë…¸ ë¬´ë£Œ ì¿ í°</div>
                    <div class="price-wrap">
                        <span class="price-origin"><span id="val-price">0</span>ì›</span>
                        <span class="price-final">0ì›</span>
                    </div>
                </div>
                <div class="coupon-right">
                    <div class="coffee-visual">â˜•ï¸</div>
                </div>
            </div>
        </section>

        <section class="location-section">
            <div class="section-header">ì¿ í° ì‚¬ìš©ì²˜</div>
            <div class="section-card">
                <div class="loc-details">
                    <div class="loc-name" id="val-store-3">ë§¤ì¥ëª…</div>
                    <div class="loc-addr" id="val-addr">ë§¤ì¥ ì£¼ì†Œ</div>
                    <div class="loc-badge">ë„ë³´ <span id="val-time">0</span>ë¶„ (<span id="val-dist">0</span>m)</div>
                </div>
                
                <div class="map-area" onclick="openImageModal()">
                    <div class="map-pattern"></div>
                    <img id="val-map-img" src="" alt="ë§¤ì¥ ì§€ë„" style="width: 100%; height: auto; display: none; position: relative; z-index: 2;">
                    
                    <div style="position: absolute; bottom: 10px; right: 10px; z-index: 6; background: rgba(0,0,0,0.6); color: #fff; padding: 4px 8px; border-radius: 4px; font-size: 12px;">
                        ğŸ” í¬ê²Œ ë³´ê¸°
                    </div>
                </div>
            </div>
        </section>

        <footer class="footer-section">
            <div class="contents">
                <img class="logo" src="footer_logo.svg" alt="íŒ¨ìŠ¤ì˜¤ë” ë¡œê³ ">
                <div class="text-wrapper">
                    <span class="text">ìƒí˜¸ëª… (ì£¼)í˜ì´íƒ€ë© | ëŒ€í‘œ ê³½ìˆ˜ìš© | ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸ 452-87-01123</span>
                    <span class="text">ê³ ê°ì„¼í„° 1644-8725 | ì´ë©”ì¼ help@passorder.co.kr</span>
                    <div class="terms-nav-wrapper">
                        <a class="terms" href="https://passorder.co.kr/terms-of-use/a172b2f1-41eb-4411-80a1-7703b63d222c" target="_blank">ì´ìš©ì•½ê´€</a>
                        <a class="terms" href="https://passorder.co.kr/terms-of-use/d1b1cd9c-6984-4a56-9703-cefd944c9167" target="_blank">ê°œì¸ì •ë³´ ì²˜ë¦¬ë°©ì¹¨</a>
                    </div>
                    <span class="text">Â©2019 PAYTA LAB CORP. ALL RIGHT RESERVED</span>
                </div>
            </div>
        </footer>
    </div>

    <div class="sticky-bar">
        <button class="btn-cta" onclick="openInfoModal()">ğŸ’– ìƒìƒ í”„ë¡œì íŠ¸ í•¨ê»˜í•˜ê¸° ğŸ’–</button>
    </div>

    <div id="infoModal" class="modal-layer">
        <div class="modal-content">
            <div class="modal-header" style="position: relative;">
                <button onclick="closeModal()" style="position: absolute; top: 0; right: 0; border: none; background: transparent; font-size: 20px; padding: 10px; cursor: pointer; color: #8B95A1;">âœ•</button>
                <span class="modal-icon">ğŸ“¢</span>
                <h2 class="modal-title">ê¼­ í™•ì¸í•´ì£¼ì„¸ìš”!</h2>
                <p class="modal-desc">
                    ì†Œìƒê³µì¸ ìƒìƒ í”„ë¡œì íŠ¸ <br>ì»¤í”¼ ì¿ í°ì€ <strong>1ì¸ 1íšŒ ì§€ê¸‰</strong> ë©ë‹ˆë‹¤.<br>
                    <span style="display:block; height:6px;"></span>
                    ì´ë¯¸ ì¿ í°ì„ ë°›ìœ¼ì…¨ëŠ”ì§€ <strong>íœ´ëŒ€í° ë²ˆí˜¸ë¡œ</strong> í™•ì¸í• ê²Œìš”!
                </p>
            </div>
            <div class="input-area">
                <label class="input-label">íœ´ëŒ€í° ë²ˆí˜¸ ì…ë ¥</label>
                <input type="tel" id="phoneInput" class="input-field" placeholder="01012345678" maxlength="11" inputmode="numeric" autocomplete="off">
            </div>
            <label class="terms-wrap" for="agreeChk">
                <input type="checkbox" id="agreeChk">
                <div class="check-icon"></div>
                <span class="terms-text">
                    [í•„ìˆ˜] <a href="https://passorder.co.kr/terms-of-use/d1b1cd9c-6984-4a56-9703-cefd944c9167" target="_blank" class="privacy-link" onclick="event.stopPropagation()">ê°œì¸ì •ë³´ ì²˜ë¦¬ ë°©ì¹¨</a>ì— ë™ì˜í•©ë‹ˆë‹¤.
                </span>
            </label>

            <div class="notice-box">
                <h4 class="notice-title">ìœ ì˜ì‚¬í•­</h4>
                <div class="notice-list">
                    <div class="notice-item highlight-notice">
                        <span class="notice-dot">â€¢</span>
                        <span>í•´ë‹¹ ì¿ í°ì€, <strong>íŒ¨ìŠ¤ì˜¤ë” ì•± íšŒì›ê°€ì…ì„ ì™„ë£Œí•œ ìœ ì €ì—ê²Œ ì§€ê¸‰</strong> ë©ë‹ˆë‹¤.</span>
                    </div>
                    <div class="notice-item highlight-notice">
                        <span class="notice-dot">â€¢</span>
                        <span>í•´ë‹¹ ì¿ í°ì€, <strong>íŒ¨ìŠ¤ì˜¤ë” ì•± ì„¤ì¹˜ ë° íšŒì›ê°€ì… ì™„ë£Œ ë‹¤ìŒ ë‚  ì§€ê¸‰</strong> ë©ë‹ˆë‹¤.</span>
                    </div>
                    <div class="notice-item">
                        <span class="notice-dot">â€¢</span>
                        <span>í•´ë‹¹ ì¿ í°ì€, íŒ¨ìŠ¤ì˜¤ë”ì—ì„œ ì œê³µí•˜ëŠ” ì†Œìƒê³µì¸ ì§€ì›í”„ë¡œì íŠ¸ë¡œ 1ì¸ 1íšŒ ì§€ê¸‰ì´ ì›ì¹™ì´ë©° ì¤‘ë³µ ì§€ê¸‰ì€ ì œí•œë©ë‹ˆë‹¤.</span>
                    </div>
                    <div class="notice-item">
                        <span class="notice-dot">â€¢</span>
                        <span>í•´ë‹¹ ì¿ í°ì€ íŒ¨ìŠ¤ì˜¤ë” ì•±ì„ í†µí•œ ì£¼ë¬¸ ë° ê²°ì œì‹œ ì‚¬ìš©ê°€ëŠ¥í•˜ë©° í˜„ì¥ ê²°ì œ ë° ì „í™”ì£¼ë¬¸ìœ¼ë¡œëŠ” ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.</span>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="modal-footer">
            <button class="btn-cta" id="submitBtn" disabled onclick="submitData()">ì§€ê¸ˆ ë°”ë¡œ ì»¤í”¼ ì¿ í° ë°›ê¸°</button>
        </div>
    </div>

    <div id="imgModal" class="img-modal-layer" style="display:none;">
        <span class="img-close-btn" onclick="closeImageModal()">&times;</span>
        <img class="img-modal-content" id="expandedImg">
        <div class="img-caption">í™”ë©´ì„ ëˆ„ë¥´ë©´ ë‹«í™ë‹ˆë‹¤</div>
    </div>

    <div id="successView" class="success-layer">
        <div class="success-icon">ğŸ</div>
        <h2 class="success-title">ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆì–´ìš”!</h2>
        <p class="success-desc">
            ë¹ ë¥´ê²Œ í™•ì¸ í›„<br>ì¿ í°ì„ ë°œì†¡í•´ ë“œë¦´ê²Œìš”.
        </p>
        <p class="redirect-msg">ì ì‹œ í›„ ì•± ë‹¤ìš´ë¡œë“œ í™”ë©´ìœ¼ë¡œ ì´ë™í•©ë‹ˆë‹¤...</p>
    </div>

    <script>
        /* ============================================================
           [0] ì„±ê³¼ ì¶”ì  ì‹œìŠ¤í…œ
           ============================================================ */
        const GOOGLE_SCRIPT_URL = "https://script.google.com/macros/s/AKfycbyBpxGQBFpImd8r5Xhr6vXkBQWVT2xQP25E-RO4-7jf88IpUb8obvhRnc8wZ8__4WpJcA/exec"; 

        const SESSION_ID = Math.random().toString(36).substr(2, 9) + Date.now().toString(36);
        let trackData = {
            session_id: SESSION_ID,
            scan_time: new Date().toLocaleString('ko-KR'),
            company: "",
            store: "",
            btn1_click: "",
            btn1_time: "",
            btn2_click: "",
            btn2_time: "",
            phone: "",
            consent: ""
        };

        function sendLog() {
            if (!GOOGLE_SCRIPT_URL || GOOGLE_SCRIPT_URL.includes("XXXXXXXX")) return;
            fetch(GOOGLE_SCRIPT_URL, {
                method: "POST",
                mode: "no-cors", 
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify(trackData)
            }).then(() => console.log("ë¡œê·¸ ì „ì†¡ ì™„ë£Œ"));
        }

        /* ============================================================
           [1] ë°ì´í„°ë² ì´ìŠ¤
           ============================================================ */
        const projectData = {
            "01": { company: "í•œí™”ì—ìŠ¤í…Œì´íŠ¸ì„œë¹„ìŠ¤", store: "ë² ëŸ¬ëŒ„ì™€í”Œ ë™ì—¬ì˜ë„ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ 63ë¡œ 32 (ì—¬ì˜ë„ë™)", time: "3", dist: "111", price: "2500" },
            "02": { company: "ì†Œë‹ˆì„¸ë¯¸ì»¨ë•í„°ì†”ë£¨ì…˜ì½”ë¦¬ì•„(ì£¼)", store: "ì˜¤ë¸Œë¯¼ ì„œìš¸ìŠ¤í€˜ì–´ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ í•œê°•ëŒ€ë¡œ 416 (ë‚¨ëŒ€ë¬¸ë¡œ5ê°€)", time: "1", dist: "0", price: "3800" },
            "03": { company: "ì£¼ì‹íšŒì‚¬ ì§€ì• ë“œìŠ¤í¬ì¸ ", store: "ì²­ì¶˜ì»¤í”¼ ì„œë˜ë³¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ì‚¬í‰ëŒ€ë¡œ22ê¸¸ 17 (ë°˜í¬ë™) 1ì¸µ ì²­ì¶˜ì»¤í”¼ ì„œë˜ë³¸ì ", time: "4", dist: "300", price: "2800" },
            "04": { company: "(ì£¼)í‹°ì—”ì—”í„°í…Œì¸ë¨¼íŠ¸", store: "ì—ì„¼í—ˆë¸Œì»¤í”¼ ë…¼í˜„ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì–¸ì£¼ë¡œ149ê¸¸ 17 (ë…¼í˜„ë™)", time: "6", dist: "233", price: "2000" },
            "05": { company: "(ì£¼)ë¸Œì´ì—ì´ì½”í¼ë ˆì´ì…˜", store: "ì—ìŠ¬ë¡œìš° ë„ì‚°ëŒ€ë¡œì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë„ì‚°ëŒ€ë¡œ30ê¸¸ 4 (ë…¼í˜„ë™) 1ì¸µ", time: "6", dist: "200", price: "3800" },
            "06": { company: "(ì£¼)ë‰´ë¹Œë¦¬í‹°", store: "í˜¸ë­ì´ì¹´ë…¸", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„±ë™êµ¬ ì•„ì°¨ì‚°ë¡œ1ê¸¸ 10 (ì„±ìˆ˜ë™1ê°€)", time: "4", dist: "182", price: "3500" },
            "07": { company: "(ì£¼)ë°”ìš°ë¼ì›€", store: "íƒ€ë˜ì»¤í”¼ í•™ë™ì—­ì§€ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì–¸ì£¼ë¡œ129ê¸¸ 17 (ë…¼í˜„ë™)", time: "5", dist: "204", price: "1900" },
            "08": { company: "ì£¼ì‹íšŒì‚¬íœ´ë¨¸ìŠ¤ì˜¨", store: "ê·¸ë¦­ë² ë¦¬ ì—­ì‚¼ì–¸ì£¼ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì–¸ì£¼ë¡œ99ê¸¸ 10 (ì—­ì‚¼ë™)", time: "1", dist: "60", price: "3500" },
            "09": { company: "ì£¼ì‹íšŒì‚¬ ì—ìŠ¤í‹°ì”¨ë©", store: "ë¡œì§€ë¸Œë¼ìš´", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ37ê¸¸ 7-8(ë…¼í˜„ë™)", time: "1", dist: "49", price: "3000" },
            "10": { company: "ì´ë°ì¼ë¦¬ì— ì£¼ì‹íšŒì‚¬", store: "ì¹´í« ì„œëŒ€ë¬¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œëŒ€ë¬¸êµ¬ í†µì¼ë¡œ 103 (ë¯¸ê·¼ë™)", time: "1", dist: "149", price: "2500" },
            "11": { company: "ëŒë‹¤256(ì£¼)", store: "ì—ìŠ¬ë¡œìš° ê°•ë‚¨ì—­ì‚¼ì„±íƒ€ìš´ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ì„œì´ˆëŒ€ë¡œ74ê¸¸ 23 (ì„œì´ˆë™, ì„œì´ˆíƒ€ìš´íŠ¸ë¼íŒ°ë¦¬ìŠ¤)", time: "3", dist: "99", price: "3500" },
            "12": { company: "ì£¼ì‹íšŒì‚¬ë…¼í”½ì…˜", store: "ì—ìŠ¬ë¡œìš° ì¢…ê°ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì¢…ë¡œ5ê¸¸ 7 (ì²­ì§„ë™)", time: "3", dist: "151", price: "3300" },
            "13": { company: "í‹°ë””ì”¨ì—‘ìŠ¤ì½”ë¦¬ì•„ìœ í•œíšŒì‚¬", store: "ì—ìŠ¬ë¡œìš° ì¢…ê°ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì¢…ë¡œ5ê¸¸ 7 (ì²­ì§„ë™)", time: "3", dist: "151", price: "3300" },
            "14": { company: "ì—ìŠ¤ì¼€ì´í…”ë ˆì½¤ì”¨ì—ìŠ¤í‹°ì›(ì£¼)", store: "ë°ì„ë¥´ë£¸", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ51ê¸¸ 13(ë…¼í˜„ë™)", time: "2", dist: "172", price: "3000" },
            "15": { company: "ê°•ë‚¨ì•„ì´ë””ì•ˆê³¼", store: "ì™€í”Œìƒµ ê°•ë‚¨ì—­ì‚¬ ì‹ ë¶„ë‹¹ì„ ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ ì§€í•˜396 (ì—­ì‚¼ë™)", time: "8", dist: "159", price: "2900" },
            "16": { company: "ì‚¬ìš°ìŠ¤ì¼€ì´í”„ì£¼ì‹íšŒì‚¬", store: "ì—ìŠ¬ë¡œìš° ëŒ€ì¹˜1í˜¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ108ê¸¸ 19 (ëŒ€ì¹˜ë™)", time: "1", dist: "134", price: "3800" },
            "17": { company: "(ì£¼)ë„¤ì˜¤ì•„ì´ì¦ˆ", store: "ì»¤í™ìŠ¤ë¸Œë£¨", addr: "ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ë””ì§€í„¸ë¡œ26ê¸¸ 43 (êµ¬ë¡œë™)", time: "1", dist: "0", price: "2000" },
            "18": { company: "íŒ€ìŠ¤íŒŒë¥´íƒ€ì£¼ì‹íšŒì‚¬", store: "ë§ˆë‹ˆë‹¬ì˜¤ ì„ ë¦‰ë³¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ52ê¸¸ 16 (ì—­ì‚¼ë™, í…Œí—¤ë€ì•„ì´íŒŒí¬)", time: "3", dist: "136", price: "1800" },
            "19": { company: "(ì£¼)ê·¸ë¡œë¹„êµìœ¡", store: "ë”ë¦¬í„° ì‚¬ë‹¹ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ë™ì‘êµ¬ ë™ì‘ëŒ€ë¡œ7ê¸¸ 94 (ì‚¬ë‹¹ë™)", time: "2", dist: "124", price: "1800" },
            "20": { company: "ì—ìŠ¤ì˜¤ì˜¤ì£¼ì‹íšŒì‚¬", store: "ë©”ì¢…í¬ë¡œí‚¤", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê¸ˆì²œêµ¬ ë²”ì•ˆë¡œ 1130 (ê°€ì‚°ë™)", time: "1", dist: "0", price: "2500" },
            "21": { company: "ì£¼ì‹íšŒì‚¬ì˜¬ë¦¬ë¸Œì¸í„°ë‚´ì…”ë„", store: "sis coffee", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ì„œìš´ë¡œ 138 (ì„œì´ˆë™, ì„œì´ˆë™ì•„íƒ€ì›Œ)", time: "2", dist: "72", price: "2200" },
            "22": { company: "ì´ì”¨ìœ ì›”ë“œì™€ì´ë“œì½”ë¦¬ì•„ì£¼ì‹íšŒì‚¬", store: "ë©”ê°€ì»¤í”¼ ì–‘í‰ì—­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì–‘ì‚°ë¡œ 53 (ì–‘í‰ë™3ê°€)", time: "1", dist: "0", price: "2000" },
            "23": { company: "ì£¼ì‹íšŒì‚¬ ë§ê²Œì„ì¦ˆ", store: "ë§ˆë‹ˆë‹¬ì˜¤ ë…¼í˜„ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í•™ë™ë¡œ3ê¸¸ 7 (ë…¼í˜„ë™) 1ì¸µ ë§ˆë‹ˆë‹¬ì˜¤", time: "3", dist: "124", price: "1800" },
            "24": { company: "ì£¼ì‹íšŒì‚¬êµ¿ë‹¥", store: "ì¼€ë¹„ì¥¬ìŠ¤ ë³¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ 321 (ì„œì´ˆë™, ì„œì´ˆë™ëŒ€ìš°ë””ì˜¤ë¹Œí”„ë¼ì„)", time: "4", dist: "134", price: "2500" },
            "25": { company: "ì£¼ì‹íšŒì‚¬ ë‹¥í„°ë‚˜ìš°", store: "ì—ìŠ¬ë¡œìš° ëŒ€ì¹˜1í˜¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ108ê¸¸ 19 (ëŒ€ì¹˜ë™)", time: "4", dist: "230", price: "3800" },
            "26": { company: "(ì£¼)ë””ë²„", store: "ì—…ì¦ˆì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ ë°±ë²”ë¡œ 134-1 (ì—¼ë¦¬ë™)", time: "4", dist: "187", price: "3000" },
            "27": { company: "ì£¼ì‹íšŒì‚¬ì—í”„í”¼ì•¤ì½”(FP&Co.)", store: "ì»´í¬ì¦ˆì»¤í”¼ ì½”ì—‘ìŠ¤ì‚¬ê±°ë¦¬ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì˜ë™ëŒ€ë¡œ112ê¸¸ 10 (ì‚¼ì„±ë™)", time: "2", dist: "189", price: "1500" },
            "28": { company: "ì£¼ì‹íšŒì‚¬ì†Œëª¨ì´ì•¤í‹°", store: "ì»¤í”¼ì¸ë¥˜ ëŒ€ì¹˜ë¥´ì—˜ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë„ê³¡ë¡œ93ê¸¸ 23 (ëŒ€ì¹˜ë™, ëŒ€ì¹˜ ë¥´ì—˜)", time: "2", dist: "131", price: "3800" },
            "29": { company: "ì£¼ì‹íšŒì‚¬ë¹…í”Œë˜ë‹›ë©”ì´ë“œì—”í„°", store: "ë¡¬ì»¤í”¼ ë³¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ í•™ë™ë¡œ50ê¸¸ 7 (ë…¼í˜„ë™)", time: "2", dist: "128", price: "2800" },
            "30": { company: "(ì£¼)ë‚˜ì¼ì†Œí”„íŠ¸", store: "ì‹œë“œì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ë””ì§€í„¸ë¡œ32ê¸¸ 30 (êµ¬ë¡œë™)", time: "1", dist: "0", price: "2800" },
            "31": { company: "(ì£¼)í•«ì…€ëŸ¬", store: "ë©”ê°€ì»¤í”¼ ì¥í•œí‰ì—­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ë™ëŒ€ë¬¸êµ¬ ì²œí˜¸ëŒ€ë¡œ85ê¸¸ 10 (ì¥ì•ˆë™)", time: "1", dist: "116", price: "2000" },
            "32": { company: "ì£¼ì‹íšŒì‚¬ì†Œì´ë¯¸ë””ì–´", store: "ì¹´í˜ ì–´ê±°ìŠ¤íŠ¸", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì„ ë¦‰ë¡œ 514 (ì‚¼ì„±ë™)", time: "2", dist: "93", price: "2500" },
            "33": { company: "ì£¼ì‹íšŒì‚¬ìœˆì¦ˆì•„ì´í‹°ì„œë¹„ìŠ¤", store: "í¬ì¹´ì½”(foccaco)", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì˜ë™ëŒ€ë¡œ 510 (ì‚¼ì„±ë™)", time: "5", dist: "161", price: "4000" },
            "34": { company: "ì£¼ì‹íšŒì‚¬ í¼í”Œì•„ì´ì˜¤", store: "ìˆœì´ë„¤ì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì„ ë¦‰ë¡œ90ê¸¸ 72(ëŒ€ì¹˜ë™)", time: "5", dist: "174", price: "2800" },
            "35": { company: "ìœ í•œì±…ì„íšŒì‚¬ë²¨ë¡œì‹œí‹°ê¸€ë¡œë²Œì½”ë¦¬ì•„", store: "ì¼±ìˆœì´ë„¤ì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì„ ë¦‰ë¡œ90ê¸¸ 72(ëŒ€ì¹˜ë™)", time: "7", dist: "125", price: "2800" },
            "36": { company: "ê°•ë‚¨ë°ì€ë¯¸ì†Œì•ˆê³¼", store: "ì¿¨ë°”ì´íŠ¸(coolbite)", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ ì§€í•˜396 (ì—­ì‚¼ë™)", time: "4", dist: "135", price: "1500" },
            "37": { company: "ì£¼ì‹íšŒì‚¬ë°”ë¹„í†¡", store: "ë¨ì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ53ê¸¸ 8 (ì„œì´ˆë™)", time: "2", dist: "71", price: "2500" },
            "38": { company: "ì£¼ì‹íšŒì‚¬ í…Œí¬íƒ€ì¹´", store: "ë¨ì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ53ê¸¸ 8 (ì„œì´ˆë™)", time: "1", dist: "0", price: "2500" },
            "39": { company: "ì˜¤ì”¨ì•„ì´ë“œë¦¼ì£¼ì‹íšŒì‚¬", store: "ìƒëŸ¬ë”” ì„œìš¸ì‹œì²­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ ì„¸ì¢…ëŒ€ë¡œ18ê¸¸ 20(ë¶ì°½ë™)", time: "3", dist: "200", price: "2700" },
            "40": { company: "íëŸ¬ë¹„(ì£¼)", store: "ë””ì €íŠ¸39 ì§€íƒ€ì›Œëª°ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ë””ì§€í„¸ë¡œ26ê¸¸ 38 (êµ¬ë¡œë™)", time: "1", dist: "0", price: "2900" },
            "41": { company: "(ì£¼)ìŠ¤í† ë¦¬ìœ„ì¦ˆ", store: "í…í¼ì„¼íŠ¸ì»¤í”¼ ì•ˆêµ­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ìœ¨ê³¡ë¡œ 59(ì¬ë™)", time: "1", dist: "51", price: "2000" },
            "42": { company: "ì—˜ë³¸ë”í…Œì´ë¸”ì£¼ì‹íšŒì‚¬", store: "ì´í„°ë„ìŠ¤ì»¤í”¼ë©", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì‚¼ì„±ë¡œ100ê¸¸ 18 (ì‚¼ì„±ë™)", time: "1", dist: "23", price: "3500" },
            "43": { company: "(ì£¼)ì œì´ë“œìŠ¤íŠœë””ì˜¤ìŠ¤(JEDStudios)", store: "ë¡œìŠ¤í„°ë¦¬ë½ì˜¨ ë§ˆê³¡1í˜¸ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ì„œêµ¬ ë§ˆê³¡ë™ë¡œ3ê¸¸ 26 (ë§ˆê³¡ë™)", time: "1", dist: "31", price: "2500" },
            "44": { company: "ë¯¸ë‹ˆì‰¬ì¹˜ê³¼ë³‘ì›", store: "ìœ„í´ë¦¬ë² ì´ê¸€ ë„ì‚°ê³µì›ì‚¬ê±°ë¦¬ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì–¸ì£¼ë¡œ 729 (ë…¼í˜„ë™)", time: "2", dist: "63", price: "3000" },
            "45": { company: "(ì£¼)ìºëŸ¿ì†”ë£¨ì…˜ì¦ˆ", store: "ì…€ë ‰í† ì»¤í”¼ ì‹ ë…¼í˜„ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„œì´ˆêµ¬ ê°•ë‚¨ëŒ€ë¡œ79ê¸¸ 31 (ë°˜í¬ë™)", time: "3", dist: "125", price: "3200" },
            "46": { company: "ì—í”„í”¼í‹°ì†Œí”„íŠ¸ì›¨ì–´ì½”ë¦¬ì•„ì£¼ì‹íšŒì‚¬", store: "í•˜ì™€ìœ ì¹´í˜", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì€í–‰ë¡œ 60-1 (ì—¬ì˜ë„ë™)", time: "1", dist: "85", price: "1900" },
            "47": { company: "ì£¼ì‹íšŒì‚¬ íì•¤ë“œë¹„ì¸í„°ë‚´ì…”ë‚ ", store: "í¬ì¼€ì˜¬ë°ì´ ì„ ì •ë¦‰ì—­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ 333 (ë…¼í˜„ë™, ì„ ì •ë¦‰ì—­ ëª¨ì•„ì—˜ê°€ í¼ìŠ¤íŠ¸ í™ˆ)", time: "3", dist: "161", price: "4500" },
            "48": { company: "(ì£¼)ì¡°ì¼í…Œí¬ë†€ë¡œì§€", store: "ë§¤ë¨¸ë“œìµìŠ¤í”„ë ˆìŠ¤ ëª…ë™ì—­3ë²ˆì¶œêµ¬ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¤‘êµ¬ í‡´ê³„ë¡œ18ê¸¸ 8 (ë‚¨ì‚°ë™1ê°€)", time: "2", dist: "147", price: "2000" },
            "49": { company: "ì£¼ì‹íšŒì‚¬ ì—ì´í´ë¼ë¯¸ë””ì–´ê·¸ë£¹", store: "ì»¤ìŠ¤í…€ì»¤í”¼ ìƒì•”ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ë§ˆí¬êµ¬ ì›”ë“œì»µë¶ë¡œ54ê¸¸ 17 (ìƒì•”ë™)", time: "2", dist: "56", price: "4300" },
            "50": { company: "ì£¼ì‹íšŒì‚¬í¬ë¦¬ì—ì´ì…˜ì—˜", store: "ì„¸ì»¨ìŠ¤í…", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ë™ëŒ€ë¬¸êµ¬ ë‚œê³„ë¡œ30ê¸¸ 36-8 (ì‹ ì„¤ë™)", time: "3", dist: "199", price: "2500" },
            "51": { company: "(ì£¼)íƒ€ì„êµìœ¡C&P", store: "ì–´ë°˜81(URBAN 81)", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë´‰ì€ì‚¬ë¡œ67ê¸¸ 14(ì‚¼ì„±ë™, ì‚¼ì„±ë™ 468)", time: "5", dist: "152", price: "3500" },
            "52": { company: "ì£¼ì‹íšŒì‚¬ ë‹¹ê·¼ì„œë¹„ìŠ¤", store: "ë¼ì´íŠ¸ë‹ì»¤í”¼", addr: "ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ë””ì§€í„¸ë¡œ 306 (êµ¬ë¡œë™)", time: "1", dist: "131", price: "2000" },
            "53": { company: "ì£¼ì‹íšŒì‚¬ë”œë¦¬ë²„ë¦¬ë©", store: "ëˆ„ì•„í", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„±ë™êµ¬ ì„±ìˆ˜ì¼ë¡œ11ê¸¸ 15 (ì„±ìˆ˜ë™1ê°€)", time: "3", dist: "197", price: "4000" },
            "54": { company: "ì£¼ì‹íšŒì‚¬ë‹¤ì´íŠ¸ë©", store: "ì²­ì¶˜ì»¤í”¼ ë…¼í˜„ì (ì‹ ì‚¬ì )", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ë„ì‚°ëŒ€ë¡œ8ê¸¸ 16(ë…¼í˜„ë™)", time: "8", dist: "196", price: "2500" },
            "55": { company: "ë©”íƒ€ë„·ì‚¬ìŠ¤ ì£¼ì‹íšŒì‚¬", store: "ê³µì°¨ ë‘ì‚°ì—°ê°•ë¹Œë”©ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬ ì¢…ë¡œ33ê¸¸ 15 (ì—°ì§€ë™) ë‘ì‚°ì•„íŠ¸ì„¼í„° 1ì¸µ", time: "1", dist: "4", price: "3900" },
            "56": { company: "(ì£¼)ì— íˆ¬ì— ê¸€ë¡œë²Œ", store: "í—¬ë¡œìš°ë² ì´ê¸€ ë‹¹ì‚°ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì˜ë“±í¬êµ¬ ì˜ë“±í¬ë¡œ 150 (ë‹¹ì‚°ë™1ê°€)", time: "2", dist: "30", price: "2500" },
            "57": { company: "í¼í‚¨ì—˜ë¨¸ì½”ë¦¬ì•„ìœ í•œíšŒì‚¬", store: "ì–´ë°˜í…Œì´ë¸”", addr: "ì„œìš¸íŠ¹ë³„ì‹œ êµ¬ë¡œêµ¬ ë””ì§€í„¸ë¡œ33ê¸¸ 27 (êµ¬ë¡œë™)", time: "2", dist: "66", price: "1900" },
            "58": { company: "ì–´ì¸ì—”í„°í…Œì¸ë¨¼íŠ¸(ì£¼)", store: "ì»¤í”¼ì‚¬í”¼ì—”ìŠ¤ ì„±ìˆ˜í˜„ëŒ€í…Œë¼ìŠ¤ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ì„±ë™êµ¬ ì—°ë¬´ì¥5ê°€ê¸¸ 7 (ì„±ìˆ˜ë™2ê°€)", time: "2", dist: "181", price: "2000" },
            "59": { company: "ì§€ì—ì´ì¹˜íŒŒíŠ¸ë„ˆì¦ˆì£¼ì‹íšŒì‚¬", store: "ì£ ìƒŒë“œìœ„ì¹˜ ëŒ€ì¹˜ì‚¬ê±°ë¦¬ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì‚¼ì„±ë¡œ 345 (ëŒ€ì¹˜ë™)", time: "4", dist: "205", price: "3800" },
            "60": { company: "ì£¼ì‹íšŒì‚¬ìŠ¤íŒŒí¬í«", store: "ì´ë””ì•¼ì»¤í”¼ ì²­ë‹´ì—­ì ", addr: "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì‚¼ì„±ë¡œ 721 (ì²­ë‹´ë™)", time: "1", dist: "67", price: "3200" }
        };

        /* ============================================================
           [2] ë°ì´í„° ë°”ì¸ë”© ë° ì´ë¯¸ì§€ ì²˜ë¦¬
           ============================================================ */
        function initPageData() {
            const params = new URLSearchParams(window.location.search);
            let code = params.get('code');

            if (!code || !projectData[code]) {
                code = "í•œí™”ì—ìŠ¤í…Œì´íŠ¸ì„œë¹„ìŠ¤"; 
            }

            const data = projectData[code];

            const titleEl = document.querySelector('title');
            if(titleEl) titleEl.innerText = "íŒ¨ìŠ¤ì˜¤ë” X " + data.company;
            
            if(document.getElementById('val-company-1')) document.getElementById('val-company-1').innerText = data.company;
            if(document.getElementById('val-company-2')) document.getElementById('val-company-2').innerText = data.company;
            if(document.getElementById('val-store-1')) document.getElementById('val-store-1').innerText = data.store;
            if(document.getElementById('val-store-2')) document.getElementById('val-store-2').innerText = data.store;
            if(document.getElementById('val-store-3')) document.getElementById('val-store-3').innerText = data.store;
            if(document.getElementById('val-addr')) document.getElementById('val-addr').innerText = data.addr;
            if(document.getElementById('val-time')) document.getElementById('val-time').innerText = data.time;
            if(document.getElementById('val-dist')) document.getElementById('val-dist').innerText = data.dist;
            if(document.getElementById('val-price')) {
                document.getElementById('val-price').innerText = Number(data.price).toLocaleString(); 
            }

            const mapImgEl = document.getElementById('val-map-img');
            if(mapImgEl) {
                const imgPath = "./images/" + data.company + ".jpg"; 
                mapImgEl.src = imgPath;
                mapImgEl.style.display = "block"; 
                mapImgEl.onerror = function() {
                    this.style.display = "none";
                };
            }

            trackData.company = data.company;
            trackData.store = data.store;
            sendLog(); 
        }
        initPageData();

        /* ============================================================
           [3] ì´ë¯¸ì§€ í™•ëŒ€/ì´ë™ (ë¼ì´íŠ¸ë°•ìŠ¤)
           ============================================================ */
        let currentScale = 1;
        let translateX = 0;
        let translateY = 0;
        let initialDist = 0;
        let baseScale = 1;
        let startX = 0;
        let startY = 0;
        let lastX = 0;
        let lastY = 0;
        let imgElement = null;

        function updateTransform() {
            if(!imgElement) return;
            imgElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${currentScale})`;
        }

        function openImageModal() {
            const modal = document.getElementById("imgModal");
            const thumbImg = document.getElementById("val-map-img"); 
            const expandImg = document.getElementById("expandedImg"); 
            
            imgElement = expandImg;

            if (thumbImg.style.display === "none" || thumbImg.naturalWidth === 0) {
                alert("í™•ëŒ€í•  ì§€ë„ê°€ ì—†ìŠµë‹ˆë‹¤.");
                return;
            }

            modal.style.display = "flex"; 
            expandImg.src = thumbImg.src; 
            document.body.style.overflow = "hidden"; 

            currentScale = 1;
            translateX = 0;
            translateY = 0;
            lastX = 0;
            lastY = 0;
            updateTransform();
        }

        function closeImageModal() {
            const modal = document.getElementById("imgModal");
            modal.style.display = "none";
            document.body.style.overflow = "";
            currentScale = 1; 
            translateX = 0;
            translateY = 0;
            if(imgElement) updateTransform();
        }

        document.getElementById('imgModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        /* ============================================================
           [4] ëª¨ë‹¬ ë° ë°ì´í„° ì „ì†¡
           ============================================================ */
        const modal = document.getElementById('infoModal');
        const phoneInput = document.getElementById('phoneInput');
        const agreeChk = document.getElementById('agreeChk');
        const submitBtn = document.getElementById('submitBtn');

        function openInfoModal() {
            if(trackData.btn1_click === "") { 
                trackData.btn1_click = "O";
                trackData.btn1_time = new Date().toLocaleString('ko-KR');
                sendLog(); 
            }
            modal.classList.add('active');
            document.body.style.overflow = 'hidden'; 
        }

        function closeModal() {
            modal.classList.remove('active');
            document.body.style.overflow = ''; 
            phoneInput.blur();
        }

        function checkValidation() {
            const phoneVal = phoneInput.value.replace(/[^0-9]/g, '');
            const isChecked = agreeChk.checked;
            if (phoneVal.length === 11 && isChecked) {
                submitBtn.disabled = false;
            } else {
                submitBtn.disabled = true;
            }
        }

        phoneInput.addEventListener('input', function(e) {
            this.value = this.value.replace(/[^0-9]/g, '');
            checkValidation();
        });

        agreeChk.addEventListener('change', checkValidation);

        function submitData() {
            trackData.btn2_click = "O";
            trackData.btn2_time = new Date().toLocaleString('ko-KR');
            trackData.phone = document.getElementById('phoneInput').value;
            trackData.consent = "Y"; 
            sendLog(); 
            modal.classList.remove('active');
            document.getElementById('successView').classList.add('active');
            setTimeout(function() {
                window.location.href = "https://passorder.app.link/app-download";
            }, 3000);
        }

        /* ============================================================
           [5] ì´ë¯¸ì§€ ì¤Œ & íŒ¬ + [NEW] ì•„ì´í° ì „ì²´í™”ë©´ í™•ëŒ€ ë°©ì§€
           ============================================================ */
        const expandImgElement = document.getElementById('expandedImg');
        
        // 1) ì§€ë„ ì´ë¯¸ì§€ í™•ëŒ€/ì´ë™ ë¡œì§
        if(expandImgElement) {
            expandImgElement.addEventListener('touchstart', function(e) {
                if (e.touches.length === 2) {
                    e.preventDefault();
                    initialDist = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    baseScale = currentScale;
                } else if (e.touches.length === 1) {
                    startX = e.touches[0].pageX;
                    startY = e.touches[0].pageY;
                    lastX = translateX;
                    lastY = translateY;
                }
            }, { passive: false });

            expandImgElement.addEventListener('touchmove', function(e) {
                // ì´ë¯¸ì§€ ìœ„ì—ì„œì˜ ì œìŠ¤ì²˜ëŠ” ë¸Œë¼ìš°ì € ê¸°ë³¸ ë™ì‘ ë¬´ì¡°ê±´ ë§‰ìŒ (í™•ëŒ€/ì´ë™ ì „ìš©)
                e.preventDefault();

                if (e.touches.length === 2) {
                    const currentDist = Math.hypot(
                        e.touches[0].pageX - e.touches[1].pageX,
                        e.touches[0].pageY - e.touches[1].pageY
                    );
                    if (initialDist > 0) {
                        const scaleFactor = currentDist / initialDist; 
                        currentScale = baseScale * scaleFactor;
                        if (currentScale < 1) currentScale = 1;
                        if (currentScale > 5) currentScale = 5;
                        updateTransform();
                    }
                } else if (e.touches.length === 1 && currentScale > 1) {
                    const dx = e.touches[0].pageX - startX;
                    const dy = e.touches[0].pageY - startY;
                    translateX = lastX + dx;
                    translateY = lastY + dy;
                    updateTransform();
                }
            }, { passive: false });
        }

        // 2) [ì¤‘ìš”] ì•„ì´í°ì—ì„œ ì§€ë„ ì™¸ ë‹¤ë¥¸ ì˜ì—­(body) í™•ëŒ€ ë°©ì§€
        document.body.addEventListener('touchmove', function(e) {
            // ë‘ ì†ê°€ë½ í„°ì¹˜(í™•ëŒ€ ì‹œë„)ì´ë©´ì„œ && ëŒ€ìƒì´ ì§€ë„ ì´ë¯¸ì§€ê°€ ì•„ë‹ˆë©´
            if (e.touches.length > 1 && e.target.id !== "expandedImg") {
                // ê°•ì œë¡œ ë¬´ì‹œí•´ì„œ í™”ë©´ í™•ëŒ€ë¥¼ ë§‰ìŒ
                e.preventDefault();
            }
        }, { passive: false });

        // 3) ë”ë¸” íƒ­ í™•ëŒ€ ë°©ì§€ (ì•„ì´í°)
        let lastTouchEnd = 0;
        document.documentElement.addEventListener('touchend', function (event) {
            const now = (new Date()).getTime();
            if (now - lastTouchEnd <= 300) {
                event.preventDefault();
            }
            lastTouchEnd = now;
        }, { passive: false });
    </script>
</body>
</html>
